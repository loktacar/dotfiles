# Lines configured by zsh-newuser-install
HISTFILE=~/.histfile
HISTSIZE=1000
SAVEHIST=1000
setopt appendhistory autocd notify
unsetopt beep nomatch
bindkey -v
# End of lines configured by zsh-newuser-install
# The following lines were added by compinstall
zstyle :compinstall filename '/home/viktor/.zshrc'

autoload -Uz compinit
compinit
# End of lines added by compinstall

autoload -U colors && colors

export SHELL=/bin/zsh

# Search backwards and forwards with a pattern
bindkey -M vicmd '/' history-incremental-pattern-search-backward
bindkey -M vicmd '?' history-incremental-pattern-search-forward

branch_name=" "
vim_mode="--INS--"

function zle-keymap-select zle-keymap-init {
  vim_mode="${${KEYMAP/vicmd/--NOM--}/(main|viins)/--INS--}"
  RPROMPT="%{$fg[green]%}%n%{$reset_color%} %B${vim_mode}%b"
  zle reset-prompt
}
zle -N zle-keymap-select
zle -N zle-keymap-init

precmd() {
  branch_name="$(git symbolic-ref -q HEAD 2>/dev/null)"

  if [[ $branch_name != '' ]]; then
    branch_name=" ${branch_name##refs/heads/} "
  else
    branch_name=" "
  fi

  PROMPT="%{$fg[yellow]%}%~%{$fg[red]%}${branch_name}%{$reset_color%}%# "
}

# Prompt configuration
RPROMPT="%{$fg[green]%}%n%{$reset_color%} %B${vim_mode}%b"

alias ls='pwd && ls --color -hF'
alias ll='ls -l'
alias la='ls -a'
alias lla='ls -al'
alias lsa='ls -a'

alias sl='ls'
alias dc='cd'
alias cd..='cd ..'

# If I'm stuck in vim mode
alias :q='exit'

alias uptime='uname -a && echo " "`date`"" && uptime && echo && free -m'

alias whe='whereis'
alias wha='whatis'

PATH=$PATH:~/bin
